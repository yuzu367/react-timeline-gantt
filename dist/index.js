!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("moment"),require("react-dom")):"function"==typeof define&&define.amd?define("react-gantt-timeline",["React","moment","ReactDOM"],e):"object"==typeof exports?exports["react-gantt-timeline"]=e(require("react"),require("moment"),require("react-dom")):t["react-gantt-timeline"]=e(t.React,t.moment,t.ReactDOM)}(window,function(t,e,n){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=30)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=n(28)()},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")});return[n].concat(i).concat([o]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n}).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),c=null,l=0,u=[],f=n(10);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function m(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=l++;n=c||(c=m(e)),r=k.bind(null,n,a,!1),o=k.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&d(p(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var g,w=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function k(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e,n){"use strict";(t.exports={}).forEach=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}}},function(t,e,n){"use strict";var r=t.exports={};r.isIE=function(t){return(-1!==(e=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/"))&&(!t||t===function(){var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(n[0]);return t>4?t:void 0}());var e},r.isLegacyOpera=function(){return!!window.opera}},function(t,e,n){"use strict";var r=n(0);n(11);var o=n(12),i=n(13),a=n(14),s=n(25);function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=c(r),u=c(o),f=c(a),d=c(s);function p(t,e,n){return e=g(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function m(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t,e,n){return(e=j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(){return(v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){b(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function O(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}var P={};var E=["explicitRef","className","style","size","disablePlaceholder","onSize"],T={monitorWidth:!0,monitorHeight:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function L(t){return t.displayName||t.name||"Component"}var C=function(t){function e(){return h(this,e),p(this,e,arguments)}return w(e,r.Component),m(e,[{key:"render",value:function(){return r.Children.only(this.props.children)}}])}();function M(t){var e=t.className,n=t.style,r={};return e||n?(e&&(r.className=e),n&&(r.style=n)):r.style={width:"100%",height:"100%"},l.default.createElement("div",r)}b(C,"displayName","SizeMeReferenceWrapper"),M.displayName="SizeMePlaceholder";var D=function(t){function e(e){var n=e.explicitRef,r=e.className,o=e.style,i=e.size,a=e.disablePlaceholder;e.onSize;var s=O(e,E),c=(null==i||null==i.width&&null==i.height)&&!a,u={className:r,style:o};null!=i&&(u.size=i);var f=c?l.default.createElement(M,{className:r,style:o}):l.default.createElement(t,v({},u,s));return l.default.createElement(C,{ref:n},f)}return e.displayName="SizeMeRenderer(".concat(L(t),")"),e};function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=t.monitorWidth,n=void 0===e?T.monitorWidth:e,r=t.monitorHeight,o=void 0===r?T.monitorHeight:r,a=t.refreshRate,s=void 0===a?T.refreshRate:a,c=t.refreshMode,d=void 0===c?T.refreshMode:c,y=t.noPlaceholder,g=void 0===y?T.noPlaceholder:y,k=t.resizeDetectorStrategy,O=void 0===k?T.resizeDetectorStrategy:k;u.default(n||o,'You have to monitor at least one of the width or height when using "sizeMe"'),u.default(s>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),u.default("throttle"===d||"debounce"===d,'The refreshMode should have a value of "throttle" or "debounce"');var x="throttle"===d?i.throttle:i.debounce;return function(t){var e=D(t),r=function(t){function r(){var t;h(this,r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return b(t=p(this,r,[].concat(i)),"domEl",null),b(t,"state",{width:void 0,height:void 0}),b(t,"uninstall",function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(t){}t.domEl=null}}),b(t,"determineStrategy",function(e){e.onSize?(t.callbackState||(t.callbackState=S({},t.state)),t.strategy="callback"):t.strategy="render"}),b(t,"strategisedSetState",function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)}),b(t,"strategisedGetState",function(){return"callback"===t.strategy?t.callbackState:t.state}),b(t,"refCallback",function(e){t.element=e}),b(t,"hasSizeChanged",function(t,e){var r=t,i=e;return n&&r.width!==i.width||o&&r.height!==i.height}),b(t,"checkIfSizeChanged",x(s,function(e){var r=e.getBoundingClientRect(),i=r.width,a=r.height,s={width:n?i:null,height:o?a:null};t.hasSizeChanged(t.strategisedGetState(),s)&&t.strategisedSetState(s)})),t}return w(r,l["default"].Component),m(r,[{key:"componentDidMount",value:function(){this.detector=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return P[t]||(P[t]=f.default({strategy:t})),P[t]}(O),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var t=this.element;t?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(t)||this.domEl!==t)&&(this.uninstall(),this.domEl=t,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=t,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var t=R.enableSSRBehaviour||R.noPlaceholders||g||"callback"===this.strategy,n=S({},this.state);return l.default.createElement(e,v({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:t},this.props))}}])}();return b(r,"displayName","SizeMe(".concat(L(t),")")),r.WrappedComponent=t,r}}R.enableSSRBehaviour=!1,R.noPlaceholders=!1;var _=["children","render"],I=["children","render"],z=["children","render"],N=function(t){function e(t){var n;h(this,e),b(n=p(this,e,[t]),"createComponent",function(t){n.SizeAware=R(t)(function(t){return t.children})}),b(n,"onSize",function(t){return n.setState({size:t})}),t.children,t.render;var r=O(t,_);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return w(e,r.Component),m(e,[{key:"componentDidUpdate",value:function(t){var e=this.props;e.children,e.render;var n=O(e,I);t.children,t.render;var r=O(t,z);d.default(n,r)||this.createComponent(n)}},{key:"render",value:function(){var t=this.SizeAware,e=this.props.children||this.props.render;return l.default.createElement(t,{onSize:this.onSize},e({size:this.state.size}))}}])}();b(N,"defaultProps",{children:void 0,render:void 0}),R.SizeMe=N,R.withSize=R,t.exports=R},function(t,e,n){var r=n(9);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(3)(!1)).push([t.i,".header-top {\n  height: 20px;\n\n  border-bottom: solid 0.5px silver;\n}\n\n.header-middle {\n  height: 20px;\n  background-color: chocolate;\n  color: white;\n  font-size: 10px;\n  border-bottom: solid 0.5px silver;\n}\n.header-bottom {\n  height: 20px;\n  font-size: 10px;\n  border-bottom: solid 0.5px silver;\n}\n",""]),t.exports=e},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e){t.exports=n},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(c=new Error(e.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(t,e,n){"use strict";function r(t,e,n,r){var o,i=!1,a=0;function s(){o&&clearTimeout(o)}function c(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=this,d=Date.now()-a;function p(){a=Date.now(),n.apply(f,l)}i||(r&&!o&&p(),s(),void 0===r&&d>t?p():!0!==e&&(o=setTimeout(r?function(){o=void 0}:p,void 0===r?t-d:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),c.cancel=function(){s(),i=!0},c}function o(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}n.r(e),n.d(e,"debounce",function(){return o}),n.d(e,"throttle",function(){return r})},function(t,e,n){"use strict";var r=n(5).forEach,o=n(15),i=n(16),a=n(17),s=n(18),c=n(19),l=n(6),u=n(20),f=n(22),d=n(23),p=n(24);function h(t){return Array.isArray(t)||void 0!==t.length}function y(t){if(Array.isArray(t))return t;var e=[];return r(t,function(t){e.push(t)}),e}function m(t){return t&&1===t.nodeType}function b(t,e,n){var r=t[e];return void 0!==r&&null!==r||void 0===n?r:n}t.exports=function(t){var e;if((t=t||{}).idHandler)e={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var n=a(),v=s({idGenerator:n,stateHandler:f});e=v}var g=t.reporter;g||(g=c(!1===g));var w=b(t,"batchProcessor",u({reporter:g})),k={};k.callOnAdd=!!b(t,"callOnAdd",!0),k.debug=!!b(t,"debug",!1);var S,O=i(e),x=o({stateHandler:f}),j=b(t,"strategy","object"),P=b(t,"important",!1),E={reporter:g,batchProcessor:w,stateHandler:f,idHandler:e,important:P};if("scroll"===j&&(l.isLegacyOpera()?(g.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),j="object"):l.isIE(9)&&(g.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),j="object")),"scroll"===j)S=p(E);else{if("object"!==j)throw new Error("Invalid strategy name: "+j);S=d(E)}var T={};return{listenTo:function(t,n,o){function i(t){var e=O.get(t);r(e,function(e){e(t)})}function a(t,e,n){O.add(e,n),t&&n(e)}if(o||(o=n,n=t,t={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(m(n))n=[n];else{if(!h(n))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=y(n)}var s=0,c=b(t,"callOnAdd",k.callOnAdd),l=b(t,"onReady",function(){}),u=b(t,"debug",k.debug);r(n,function(t){f.getState(t)||(f.initState(t),e.set(t));var d=e.get(t);if(u&&g.log("Attaching listener to element",d,t),!x.isDetectable(t))return u&&g.log(d,"Not detectable."),x.isBusy(t)?(u&&g.log(d,"System busy making it detectable"),a(c,t,o),T[d]=T[d]||[],void T[d].push(function(){++s===n.length&&l()})):(u&&g.log(d,"Making detectable..."),x.markBusy(t,!0),S.makeDetectable({debug:u,important:P},t,function(t){if(u&&g.log(d,"onElementDetectable"),f.getState(t)){x.markAsDetectable(t),x.markBusy(t,!1),S.addListener(t,i),a(c,t,o);var e=f.getState(t);if(e&&e.startSize){var p=t.offsetWidth,h=t.offsetHeight;e.startSize.width===p&&e.startSize.height===h||i(t)}T[d]&&r(T[d],function(t){t()})}else u&&g.log(d,"Element uninstalled before being detectable.");delete T[d],++s===n.length&&l()}));u&&g.log(d,"Already detecable, adding listener."),a(c,t,o),s++}),s===n.length&&l()},removeListener:O.removeListener,removeAllListeners:O.removeAllListeners,uninstall:function(t){if(!t)return g.error("At least one element is required.");if(m(t))t=[t];else{if(!h(t))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=y(t)}r(t,function(t){O.removeAllListeners(t),S.uninstall(t),f.cleanState(t)})},initDocument:function(t){S.initDocument&&S.initDocument(t)}}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.stateHandler.getState;return{isDetectable:function(t){var n=e(t);return n&&!!n.isDetectable},markAsDetectable:function(t){e(t).isDetectable=!0},isBusy:function(t){return!!e(t).busy},markBusy:function(t,n){e(t).busy=!!n}}}},function(t,e,n){"use strict";t.exports=function(t){var e={};function n(n){var r=t.get(n);return void 0===r?[]:e[r]||[]}return{get:n,add:function(n,r){var o=t.get(n);e[o]||(e[o]=[]),e[o].push(r)},removeListener:function(t,e){for(var r=n(t),o=0,i=r.length;o<i;++o)if(r[o]===e){r.splice(o,1);break}},removeAllListeners:function(t){var e=n(t);e&&(e.length=0)}}}},function(t,e,n){"use strict";t.exports=function(){var t=1;return{generate:function(){return t++}}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.idGenerator,n=t.stateHandler.getState;return{get:function(t){var e=n(t);return e&&void 0!==e.id?e.id:null},set:function(t){var r=n(t);if(!r)throw new Error("setId required the element to have a resize detection state.");var o=e.generate();return r.id=o,o}}}},function(t,e,n){"use strict";t.exports=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var r=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var n=0;n<arguments.length;n++)t(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},function(t,e,n){"use strict";var r=n(21);function o(){var t={},e=0,n=0,r=0;return{add:function(o,i){i||(i=o,o=0),o>n?n=o:o<r&&(r=o),t[o]||(t[o]=[]),t[o].push(i),e++},process:function(){for(var e=r;e<=n;e++)for(var o=t[e],i=0;i<o.length;i++)(0,o[i])()},size:function(){return e}}}t.exports=function(t){var e=(t=t||{}).reporter,n=r.getOption(t,"async",!0),i=r.getOption(t,"auto",!0);i&&!n&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=o(),c=!1;function l(){for(c=!0;s.size();){var t=s;s=o(),t.process()}c=!1}function u(){var t;t=l,a=setTimeout(t,0)}return{add:function(t,e){!c&&i&&n&&0===s.size()&&u(),s.add(t,e)},force:function(t){c||(void 0===t&&(t=n),a&&(clearTimeout(a),a=null),t?u():l())}}}},function(t,e,n){"use strict";(t.exports={}).getOption=function(t,e,n){var r=t[e];if((void 0===r||null===r)&&void 0!==n)return n;return r}},function(t,e,n){"use strict";var r="_erd";function o(t){return t[r]}t.exports={initState:function(t){return t[r]={},o(t)},getState:o,cleanState:function(t){delete t[r]}}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){var e=(t=t||{}).reporter,n=t.batchProcessor,o=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function i(e){var n=t.important?" !important; ":"; ";return(e.join(n)+n).trim()}function a(t){return o(t).object}return{makeDetectable:function(t,a,s){s||(s=a,a=t,t=null),(t=t||{}).debug,r.isIE(8)?s(a):function(a,s){var c=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),l=!1,u=window.getComputedStyle(a),f=a.offsetWidth,d=a.offsetHeight;function p(){function n(){if("static"===u.position){a.style.setProperty("position","relative",t.important?"important":"");var n=function(e,n,r,o){var i=r[o];"auto"!==i&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+o+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",t.important?"important":""))};n(e,a,u,"top"),n(e,a,u,"right"),n(e,a,u,"bottom"),n(e,a,u,"left")}}""!==u.position&&(n(),l=!0);var i=document.createElement("object");i.style.cssText=c,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){l||n(),function t(e,n){if(!e.contentDocument){var r=o(e);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout(function(){r.checkForObjectDocumentTimeoutId=0,t(e,n)},100))}n(e.contentDocument)}(this,function(t){s(a)})},r.isIE()||(i.data="about:blank"),o(a)&&(a.appendChild(i),o(a).object=i,r.isIE()&&(i.data="about:blank"))}o(a).startSize={width:f,height:d},n?n.add(p):p()}(a,s)},addListener:function(t,e){function n(){e(t)}if(r.isIE(8))o(t).object={proxy:n},t.attachEvent("onresize",n);else{var i=a(t);if(!i)throw new Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(t){if(o(t)){var e=a(t);e&&(r.isIE(8)?t.detachEvent("onresize",e.proxy):t.removeChild(e),o(t).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(t).checkForObjectDocumentTimeoutId),delete o(t).object)}}}}},function(t,e,n){"use strict";var r=n(5).forEach;t.exports=function(t){var e=(t=t||{}).reporter,n=t.batchProcessor,o=t.stateHandler.getState,i=(t.stateHandler.hasState,t.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=function(){var t=document.createElement("div");t.style.cssText=u(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var e=document.createElement("div");e.style.cssText=u(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),e.appendChild(t),document.body.insertBefore(e,document.body.firstChild);var n=500-e.clientWidth,r=500-e.clientHeight;return document.body.removeChild(e),{width:n,height:r}}(),s="erd_scroll_detection_scrollbar_style",c="erd_scroll_detection_container";function l(t){!function(t,e,n){if(!t.getElementById(e)){var r=n+"_animation",o=n+"_animation_active",i="/* Created by the element-resize-detector library. */\n";i+="."+n+" > div::-webkit-scrollbar { "+u(["display: none"])+" }\n\n",i+="."+o+" { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",i+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(e){t.head.appendChild(e)};var o=t.createElement("style");o.innerHTML=n,o.id=e,r(o)}(i+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(t,s,c)}function u(e){var n=t.important?" !important; ":"; ";return(e.join(n)+n).trim()}function f(t,n,r){if(t.addEventListener)t.addEventListener(n,r);else{if(!t.attachEvent)return e.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+n,r)}}function d(t,n,r){if(t.removeEventListener)t.removeEventListener(n,r);else{if(!t.detachEvent)return e.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+n,r)}}function p(t){return o(t).container.childNodes[0].childNodes[0].childNodes[0]}function h(t){return o(t).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(t,s,l){function d(){if(t.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(i.get(s),"Scroll: "),e.log.apply)e.log.apply(null,n);else for(var r=0;r<n.length;r++)e.log(n[r])}}function y(t){var e=o(t).container.childNodes[0],n=window.getComputedStyle(e);return!n.width||-1===n.width.indexOf("px")}function m(){var t=window.getComputedStyle(s),e={};return e.position=t.position,e.width=s.offsetWidth,e.height=s.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function b(){if(d("storeStyle invoked."),o(s)){var t=m();o(s).style=t}else d("Aborting because element has been uninstalled")}function v(t,e,n){o(t).lastWidth=e,o(t).lastHeight=n}function g(){return 2*a.width+1}function w(){return 2*a.height+1}function k(t){return t+10+g()}function S(t){return t+10+w()}function O(t,e,n){var r=p(t),o=h(t),i=k(e),a=S(n),s=function(t){return 2*t+g()}(e),c=function(t){return 2*t+w()}(n);r.scrollLeft=i,r.scrollTop=a,o.scrollLeft=s,o.scrollTop=c}function x(){var t=o(s).container;if(!t){(t=document.createElement("div")).className=c,t.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(s).container=t,function(t){t.className+=" "+c+"_animation_active"}(t),s.appendChild(t);var e=function(){o(s).onRendered&&o(s).onRendered()};f(t,"animationstart",e),o(s).onAnimationStart=e}return t}function j(){if(d("Injecting elements"),o(s)){!function(){var n=o(s).style;if("static"===n.position){s.style.setProperty("position","relative",t.important?"important":"");var r=function(t,e,n,r){var o=n[r];"auto"!==o&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",e),e.style[r]=0)};r(e,s,n,"top"),r(e,s,n,"right"),r(e,s,n,"bottom"),r(e,s,n,"left")}}();var n=o(s).container;n||(n=x());var r,i,l,p,h=a.width,y=a.height,m=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),b=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat((i=-(1+y),l=-y,p=-h,r=(r=-(1+h))?r+"px":"0",i=i?i+"px":"0",l=l?l+"px":"0",["left: "+r,"top: "+i,"right: "+(p=p?p+"px":"0"),"bottom: "+l]))),v=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),g=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=u(["position: absolute","left: 0","top: 0"]),k=u(["position: absolute","width: 200%","height: 200%"]),S=document.createElement("div"),O=document.createElement("div"),j=document.createElement("div"),P=document.createElement("div"),E=document.createElement("div"),T=document.createElement("div");S.dir="ltr",S.style.cssText=m,S.className=c,O.className=c,O.style.cssText=b,j.style.cssText=v,P.style.cssText=w,E.style.cssText=g,T.style.cssText=k,j.appendChild(P),E.appendChild(T),O.appendChild(j),O.appendChild(E),S.appendChild(O),n.appendChild(S),f(j,"scroll",L),f(E,"scroll",C),o(s).onExpandScroll=L,o(s).onShrinkScroll=C}else d("Aborting because element has been uninstalled");function L(){var t=o(s);t&&t.onExpand?t.onExpand():d("Aborting expand scroll handler: element has been uninstalled")}function C(){var t=o(s);t&&t.onShrink?t.onShrink():d("Aborting shrink scroll handler: element has been uninstalled")}}function P(){function a(e,n,r){var o=function(t){return p(t).childNodes[0]}(e),i=k(n),a=S(r);o.style.setProperty("width",i+"px",t.important?"important":""),o.style.setProperty("height",a+"px",t.important?"important":"")}function c(r){var c=s.offsetWidth,u=s.offsetHeight,f=c!==o(s).lastWidth||u!==o(s).lastHeight;d("Storing current size",c,u),v(s,c,u),n.add(0,function(){if(f)if(o(s))if(l()){if(t.debug){var n=s.offsetWidth,r=s.offsetHeight;n===c&&r===u||e.warn(i.get(s),"Scroll: Size changed before updating detector elements.")}a(s,c,u)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")}),n.add(1,function(){o(s)?l()?O(s,c,u):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}),f&&r&&n.add(2,function(){o(s)?l()?r():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})}function l(){return!!o(s).container}function u(){d("notifyListenersIfNeeded invoked");var t=o(s);return void 0===o(s).lastNotifiedWidth&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void r(o(s).listeners,function(t){t(s)}))}function f(){d("Scroll detected."),y(s)?d("Scroll event fired while unrendered. Ignoring..."):c(u)}if(d("registerListenersAndPositionElements invoked."),o(s)){o(s).onRendered=function(){if(d("startanimation triggered."),y(s))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var t=p(s),e=h(s);0!==t.scrollLeft&&0!==t.scrollTop&&0!==e.scrollLeft&&0!==e.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),c(u))}},o(s).onExpand=f,o(s).onShrink=f;var m=o(s).style;a(s,m.width,m.height)}else d("Aborting because element has been uninstalled")}function E(){if(d("finalizeDomMutation invoked."),o(s)){var t=o(s).style;v(s,t.width,t.height),O(s,t.width,t.height)}else d("Aborting because element has been uninstalled")}function T(){l(s)}function L(){var t;d("Installing..."),o(s).listeners=[],t=m(),o(s).startSize={width:t.width,height:t.height},d("Element start size",o(s).startSize),n.add(0,b),n.add(1,j),n.add(2,P),n.add(3,E),n.add(4,T)}l||(l=s,s=t,t=null),t=t||{},d("Making detectable..."),function(t){return!function(t){var e=t.getRootNode&&t.getRootNode().contains(t);return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)||e}(t)||null===window.getComputedStyle(t)}(s)?(d("Element is detached"),x(),d("Waiting until element is attached..."),o(s).onRendered=function(){d("Element is now attached"),L()}):L()},addListener:function(t,e){if(!o(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(t).listeners.push(e)},uninstall:function(t){var e=o(t);e&&(e.onExpandScroll&&d(p(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&d(h(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&d(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))},initDocument:l}}},function(t,e){t.exports=function(t,e,n,r){var o=n?n.call(r,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),c=0;c<i.length;c++){var l=i[c];if(!s(l))return!1;var u=t[l],f=e[l];if(!1===(o=n?n.call(r,u,f,l):void 0)||void 0===o&&u!==f)return!1}return!0}},function(t,e,n){var r=n(27);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(3)(!1)).push([t.i,".timeLine {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n  border: solid 1px rgb(207, 207, 205);\n  font-size: 12px;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n}\n\n/* Main Area */\n\n.timeLine-main {\n  flex: 1 1 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  overflow-y: hidden;\n}\n/* Main Area Header*/\n\n.timeLine-main-header-viewPort {\n  flex: 0 0 60px;\n  position: relative;\n  height: 60px;\n  width: 100%;\n  background-color: rgb(112, 112, 112);\n  overflow: hidden;\n}\n\n.timeLine-main-header-container {\n  flex: 0 0 60px;\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #333333;\n  overflow: hidden;\n  user-select: none;\n}\n\n.timeLine-main-header-day-item {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: rgb(112, 112, 112);\n  font-size: 10px;\n  text-align: center;\n  border-right: solid 1px;\n  border-top: solid 1px;\n  border-bottom: solid 1px;\n  top: 20px;\n  height: 40px;\n  color: white;\n  text-align: center;\n}\n\n.timeLine-main-header-top-item {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-right: solid 1px white;\n  height: 20px;\n  z-index: 91;\n}\n\n.timeLine-main-header-day-week {\n  flex: 0 0 12px;\n  padding: 4px;\n  z-index: 90;\n}\n\n.timeLine-main-header-day-month {\n  top: 0px;\n  position: sticky;\n  flex: 0 0 15px;\n  padding: 5px;\n  z-index: 90;\n}\n\n.timeLine-main-header-time {\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  height: 22px;\n  justify-content: stretch;\n}\n\n.timeLine-main-header-time-item {\n  border-left: solid 1px silver;\n  border-bottom: solid 1px silver;\n  border-top: solid 1px silver;\n  text-align: center;\n  padding-top: 5px;\n}\n/* Main Area Data*/\n\n.timeLine-main-data-viewPort {\n  flex: 1 1 auto;\n  position: relative;\n  overflow: hidden;\n  background-color: #fbf9f9;\n}\n.timeLine-main-data-container {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background-color: rgb(255, 255, 255);\n}\n\n.timeLine-main-data-row {\n  position: absolute;\n  width: 100%;\n  height: 50px;\n}\n\n.timeLine-main-data-task {\n  position: absolute;\n  background-color: darkorchid;\n  border-radius: 14px;\n  color: white;\n  text-align: center;\n}\n\n.timeLine-main-data-task-side {\n  position: absolute;\n  width: 10px;\n  cursor: col-resize;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.timeLine-main-data-task-side-linker {\n  width: 8px;\n  height: 8px;\n  border-radius: 4px;\n  cursor: default;\n  z-index: 100;\n}\n.timeLine-main-data-task-side-linker:hover {\n  background-color: black;\n  border: solid 0.5px grey;\n}\n/* .timeLine-main-data-task:hover {\n    background-color:chocolate;\n    border:solid 2px darkorchid;\n    cursor: move;\n} */\n\n.timeLine-main-data-verticalLine {\n  flex: 1 1 auto;\n  height: 100%;\n  width: 24px;\n  background-color: white;\n  border-left-width: 0.5px;\n  border-left-color: rgb(207, 207, 205);\n  border-left-style: dashed;\n}\n\n/* Side Area */\n\n.timeLine-side-main {\n  flex: 0 0 auto;\n  width: 108px;\n  min-width: 108px;\n  display: flex;\n  flex-direction: row;\n}\n\n.timeLine-side {\n  flex: 1 0 100px;\n  display: flex;\n  flex-direction: column;\n  border-right: solid 1px rgb(207, 207, 205);\n}\n\n.verticalResizer {\n  flex: 0 0 8px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: col-resize;\n  border-right: solid 1px rgb(207, 207, 205);\n  height: 100%;\n}\n.squareGrip {\n  flex: 0 0 auto;\n\n  border-radius: 50%;\n  height: 5px;\n  width: 5px;\n  margin: 3px 0;\n}\n\n.timeLine-side-title {\n  flex: 0 0 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.timeLine-side-task-viewPort {\n  position: relative;\n  flex: 1 1 auto;\n  height: 100%;\n  background-color: #fbf9f9;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.timeLine-side-task-container {\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: hidden;\n}\n\n.timeLine-side-task-row {\n  position: absolute;\n  width: 100%;\n  background-color: rgb(112, 112, 112);\n  border-bottom-width: 0.5px;\n  border-bottom-color: rgb(207, 207, 205);\n  border-bottom-style: solid;\n  height: 30px;\n  color: grey;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(29);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(2),a=n.n(i);function s(t){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var u={header:{top:{style:{backgroundColor:"#333333",fontSize:10,color:"white",textAlign:"center"}},middle:{style:{backgroundColor:"chocolate"},selectedStyle:{backgroundColor:"#b13525",fontWeight:"bold"}},bottom:{style:{background:"grey",color:"white",fontSize:9},selectedStyle:{backgroundColor:"#b13525",fontWeight:"bold"}}},taskList:{title:{label:"Projects",style:{backgroundColor:"#333333",borderBottom:"solid 1px silver",color:"white",textAlign:"center"}},task:{style:{backgroundColor:"#fbf9f9"}},verticalSeparator:{style:{backgroundColor:"#333333"},grip:{style:{backgroundColor:"#cfcfcd"}}}},dataViewPort:{rows:{style:{backgroundColor:"#fbf9f9",borderBottom:"solid 0.5px #cfcfcd"}},task:{showLabel:!1,style:{position:"absolute",borderRadius:14,color:"white",textAlign:"center",backgroundColor:"grey"},selectedStyle:{position:"absolute",borderRadius:14,border:"solid 1px #ff00fa",color:"white",textAlign:"center",backgroundColor:"grey"}}},links:{color:"black",selectedColor:"#ff00fa"}},f=new(function(){return t=function t(){var e,n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){o.data={},t?o.populate(t,u,o.data):o.data=u},(n=l(n="load"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.data=u},(e=[{key:"populate",value:function(t,e,n){if(this.isObject(e))for(var r in e)t[r]?(n[r]=t[r],this.populate(t[r],e[r],n[r])):n[r]=e[r]}},{key:"isObject",value:function(t){return"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t}},{key:"values",get:function(){return this.data}}])&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}());function d(t){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}function y(t,e,n){return e=m(e),function(t,e){if(e&&("object"==d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],m(t).constructor):e.apply(t,n))}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=y(this,e,[t])).doMouseMove=n.doMouseMove.bind(n),n.doMouseDown=n.doMouseDown.bind(n),n.doMouseUp=n.doMouseUp.bind(n),n.state={dragging:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(e,r["Component"]),n=e,(i=[{key:"doMouseDown",value:function(t){0===t.button&&(this.draggingPosition=t.clientX,this.setState({dragging:!0}))}},{key:"componentDidUpdate",value:function(t,e){this.state.dragging&&!e.dragging?(document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)):!this.state.dragging&&e.dragging&&(document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp))}},{key:"doMouseMove",value:function(t){if(this.state.dragging){t.stopPropagation();var e=this.draggingPosition-t.clientX;this.draggingPosition=t.clientX,this.props.onTaskListSizing(e)}}},{key:"doMouseUp",value:function(t){this.setState({dragging:!1})}},{key:"render",value:function(){return o.a.createElement("div",{className:"verticalResizer",style:f.values.taskList.verticalSeparator.style,onMouseDown:this.doMouseDown},o.a.createElement("div",{className:"squareGrip",style:f.values.taskList.verticalSeparator.grip.style}),o.a.createElement("div",{className:"squareGrip",style:f.values.taskList.verticalSeparator.grip.style}),o.a.createElement("div",{className:"squareGrip",style:f.values.taskList.verticalSeparator.grip.style}),o.a.createElement("div",{className:"squareGrip",style:f.values.taskList.verticalSeparator.grip.style}))}}])&&p(n.prototype,i),a&&p(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(),g=n(1),w=n.n(g),k=0,S=30,O=5e3,x="day",j="week",P="month",E="year";function T(t){"@babel/helpers - typeof";return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M(r.key),r)}}function C(t,e,n){return(e=M(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T(e)?e:e+""}var D=new(function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,"dayToPosition",function(t,e,n){return t*n+e}),C(this,"daysInYear",function(t){return e.isLeapYear(t)?366:365})},(e=[{key:"dateToPixel",value:function(t,e,n){var r=this.getToday(),o=new Date(t),i=60*(o.getTimezoneOffset()-r.getTimezoneOffset())*1e3;return(o.getTime()-r.getTime()-i)/36e5*(n/24)+e}},{key:"pixelToDate",value:function(t,e,n){var r=24/n,o=t-e,i=this.getToday(),a=i.getTime()+o*r*36e5,s=new Date(a),c=60*(s.getTimezoneOffset()-i.getTimezoneOffset())*1e3;return s.setTime(s.getTime()+c),s}},{key:"getToday",value:function(){var t=new Date;return t.setHours(0,0,0,0),t}},{key:"monthDiff",value:function(t,e){return Math.abs(e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()))}},{key:"daysInMonth",value:function(t,e){return new Date(e,t,0).getDate()}},{key:"isLeapYear",value:function(t){return t%400==0||t%100!=0&&t%4==0}}])&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}());n(8);function R(t){"@babel/helpers - typeof";return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(e){z(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function z(t,e,n){return(e=W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function U(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R(e)?e:e+""}function H(t,e,n){return e=B(e),function(t,e){if(e&&("object"==R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],B(t).constructor):e.apply(t,n))}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}function F(t,e){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){return N(this,e),H(this,e,[t])}return V(e,r["PureComponent"]),U(e,[{key:"render",value:function(){return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"solid 1px white",position:"absolute",height:20,left:this.props.left,width:this.props.width}},o.a.createElement("div",null,this.props.label))}}])}(),q=function(t){function e(t){var n;return N(this,e),z(n=H(this,e,[t]),"getStartDate",function(t,e){var n=null;switch(e){case"year":return n=t.year(),w()([n,0,1]);case"month":n=t.year();var r=t.month();return w()([n,r,1]);case"week":return t.subtract(t.day(),"days");default:return t}}),z(n,"renderTime",function(t,e,n,r){for(var i=[],a=e/24,s=0,c=0;c<24;c++)i.push(o.a.createElement(Y,{key:c,left:s,width:a,label:"shorttime"==n?c:"".concat(c,":00")})),s+=a;return o.a.createElement("div",{key:r,style:{position:"absolute",height:20,left:t,width:e}}," ",i)}),z(n,"renderHeaderRows",function(t,e,r){for(var i={top:[],middle:[],bottom:[]},a={},s="",c="",l="",u=null,d=null,p=n.props.currentday,h=n.props.currentday+n.props.numVisibleDays,y=p-S;y<h+S;y++)s!=(u=w()().add(y,"days")).format(n.getFormat(t,"top"))&&(s=u.format(n.getFormat(t,"top")),d=n.getBox(u,t,a.top),a.top=d.left+d.width,i.top.push(o.a.createElement(Y,{key:y,left:d.left,width:d.width,label:s}))),c!=u.format(n.getFormat(e))&&(c=u.format(n.getFormat(e)),d=n.getBox(u,e,a.middle),a.middle=d.left+d.width,i.middle.push(o.a.createElement(Y,{key:y,left:d.left,width:d.width,label:c}))),l!=u.format(n.getFormat(r))&&(l=u.format(n.getFormat(r)),d=n.getBox(u,r,a.bottom),a.bottom=d.left+d.width,"shorttime"==r||"fulltime"==r?i.bottom.push(n.renderTime(d.left,d.width,r,y)):i.bottom.push(o.a.createElement(Y,{key:y,left:d.left,width:d.width,label:l})));return o.a.createElement("div",{className:"timeLine-main-header-container",style:{width:O,maxWidth:O}},o.a.createElement("div",{className:"header-top",style:I({},f.values.header.top.style)},i.top),o.a.createElement("div",{className:"header-middle",style:I({},f.values.header.middle.style)},i.middle),o.a.createElement("div",{className:"header-bottom",style:I({},f.values.header.bottom.style)},i.bottom))}),z(n,"renderHeader",function(){switch(n.props.mode){case x:return n.renderHeaderRows("week","dayweek","fulltime");case j:return n.renderHeaderRows("week","dayweek","shorttime");case P:return n.renderHeaderRows("month","dayweek","daymonth");case E:return n.renderHeaderRows("year","month","week")}}),z(n,"setBoundaries",function(){n.start=n.props.currentday-S,n.end=n.props.currentday+n.props.numVisibleDays+S}),z(n,"needToRender",function(){return n.props.currentday<n.start||n.props.currentday+n.props.numVisibleDays>n.end}),n.setBoundaries(),n.HeaderRef=o.a.createRef(),n}return V(e,r["PureComponent"]),U(e,[{key:"getFormat",value:function(t,e){switch(t){case"year":return"YYYY";case"month":return"top"==e?"MMMM YYYY":"MMMM";case"week":return"top"==e?"ww MMMM YYYY":"ww";case"dayweek":return"dd";case"daymonth":return"D"}}},{key:"getModeIncrement",value:function(t,e){switch(e){case"year":return D.daysInYear(t.year());case"month":return t.daysInMonth();case"week":return 7;default:return 1}}},{key:"getBox",value:function(t,e,n){var r=this.getModeIncrement(t,e)*this.props.dayWidth;if(!n){var o=this.getStartDate(t,e);o=o.startOf("day");var i=w()().startOf("day"),a=o.diff(i,"days");n=D.dayToPosition(a,this.props.nowposition,this.props.dayWidth)}return{left:n,width:r}}},{key:"render",value:function(){return this.HeaderRef.current&&(this.HeaderRef.current.scrollLeft=this.props.scrollLeft),o.a.createElement("div",{id:"timeline-header",ref:this.HeaderRef,className:"timeLine-main-header-viewPort"},this.renderHeader())}}])}();function X(t){"@babel/helpers - typeof";return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach(function(e){tt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,et(r.key),r)}}function J(t,e,n){return e=Q(e),function(t,e){if(e&&("object"==X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Q(t).constructor):e.apply(t,n))}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tt(t,e,n){return(e=et(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X(e)?e:e+""}var nt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),tt(n=J(this,e,[t]),"onCreateLinkMouseDown",function(t,e){0===t.button&&(t.stopPropagation(),n.props.onStartCreateLink(n.props.item,e))}),tt(n,"onCreateLinkMouseUp",function(t,e){t.stopPropagation(),n.props.onFinishCreateLink(n.props.item,e)}),tt(n,"onCreateLinkTouchStart",function(t,e){t.stopPropagation(),n.props.onStartCreateLink(n.props.item,e)}),tt(n,"onCreateLinkTouchEnd",function(t,e){t.stopPropagation(),n.props.onFinishCreateLink(n.props.item,e)}),tt(n,"doMouseDown",function(t,e){n.props.onUpdateTask&&0===t.button&&(t.stopPropagation(),n.dragStart(t.clientX,e))}),tt(n,"doMouseMove",function(t){n.state.dragging&&(t.stopPropagation(),n.dragProcess(t.clientX))}),tt(n,"doMouseUp",function(){n.dragEnd()}),tt(n,"doTouchStart",function(t,e){n.props.onUpdateTask&&(t.stopPropagation(),n.dragStart(t.touches[0].clientX,e))}),tt(n,"doTouchMove",function(t){n.state.dragging&&(t.stopPropagation(),n.dragProcess(t.changedTouches[0].clientX))}),tt(n,"doTouchEnd",function(t){n.dragEnd()}),n.calculateStyle=n.calculateStyle.bind(n),n.state={dragging:!1,left:n.props.left,width:n.props.width,mode:k},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(e,r["Component"]),n=e,(i=[{key:"componentDidUpdate",value:function(t,e){this.state.dragging&&!e.dragging?(document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp),document.addEventListener("touchmove",this.doTouchMove),document.addEventListener("touchend",this.doTouchEnd)):!this.state.dragging&&e.dragging&&(document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp),document.removeEventListener("touchmove",this.doTouchMove),document.removeEventListener("touchend",this.doTouchEnd))}},{key:"dragStart",value:function(t,e){this.props.onChildDrag(!0),this.draggingPosition=t,this.setState({dragging:!0,mode:e,left:this.props.left,width:this.props.width})}},{key:"dragProcess",value:function(t){var e=this.draggingPosition-t,n=this.state.left,r=this.state.width;switch(this.state.mode){case 1:n=this.state.left-e;break;case 2:n=this.state.left-e,r=this.state.width+e;break;case 3:r=this.state.width-e}var o={item:this.props.item,position:{start:n-this.props.nowposition,end:n+r-this.props.nowposition}};this.props.onTaskChanging(o),this.setState({left:n,width:r}),this.draggingPosition=t}},{key:"dragEnd",value:function(){this.props.onChildDrag(!1);var t=D.pixelToDate(this.state.left,this.props.nowposition,this.props.dayWidth),e=D.pixelToDate(this.state.left+this.state.width,this.props.nowposition,this.props.dayWidth);this.props.onUpdateTask(this.props.item,{start:t,end:e}),this.setState({dragging:!1,mode:k})}},{key:"calculateStyle",value:function(){var t=this.props.isSelected?f.values.dataViewPort.task.selectedStyle:f.values.dataViewPort.task.style,e=this.props.color?this.props.color:t.backgroundColor;return this.state.dragging?K(K({},t),{},{backgroundColor:e,left:this.state.left,width:this.state.width,height:this.props.height-5,top:2}):K(K({},t),{},{backgroundColor:e,left:this.props.left,width:this.props.width,height:this.props.height-5,top:2})}},{key:"render",value:function(){var t=this,e=this.calculateStyle();return o.a.createElement("div",{onMouseDown:function(e){return t.doMouseDown(e,1)},onTouchStart:function(e){return t.doTouchStart(e,1)},onClick:function(e){t.props.onSelectItem(t.props.item)},style:e},o.a.createElement("div",{className:"timeLine-main-data-task-side",style:{top:0,left:-4,height:e.height},onMouseDown:function(e){return t.doMouseDown(e,2)},onTouchStart:function(e){return t.doTouchStart(e,2)}},o.a.createElement("div",{className:"timeLine-main-data-task-side-linker",onMouseUp:function(e){return t.onCreateLinkMouseUp(e,void 0)},onTouchEnd:function(e){return t.onCreateLinkTouchEnd(e,void 0)}})),o.a.createElement("div",{style:{overflow:"hidden"}},f.values.dataViewPort.task.showLabel?this.props.item.name:""),o.a.createElement("div",{className:"timeLine-main-data-task-side",style:{top:0,left:e.width-3,height:e.height},onMouseDown:function(e){return t.doMouseDown(e,3)},onTouchStart:function(e){return t.doTouchStart(e,3)}},o.a.createElement("div",{className:"timeLine-main-data-task-side-linker",onMouseDown:function(e){return t.onCreateLinkMouseDown(e,"LINK_POS_RIGHT")},onTouchStart:function(e){return t.onCreateLinkTouchStart(e,"LINK_POS_RIGHT")}})))}}])&&$(n.prototype,i),a&&$(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(),rt=n(7),ot=n.n(rt);function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,st(r.key),r)}}function st(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}var ct=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.link={}},(e=[{key:"registerData",value:function(t){var e=this;if(t){this.data={};var n=this.groupData(t,0,t.length);Object.values(n).forEach(function(t,n){t.forEach(function(t){e.data[t.id]={item:t,index:n}})})}}},{key:"registerLinks",value:function(t){if(t){this.link={};for(var e=0,n=0,r=0;r<t.length;r++){e=t[r].start,n=t[r].end;var o={link:t[r],index:r};this.createAddTo(e,this.link,o,r),this.createAddTo(n,this.link,o,r)}}}},{key:"createAddTo",value:function(t,e,n,r){e[t]||(e[t]=[]),-1==e[t].indexOf(n)&&e[t].push(n)}},{key:"getTask",value:function(t){return this.data[t]}},{key:"getLinks",value:function(t){return this.link[t]}},{key:"groupData",value:function(t,e,n){for(var r={},o=e;o<n;o++){var i=t[o];if(!i)break;var a=void 0!==i.groupName?i.groupName:i.id;void 0!==r[a]?r[a].push(i):r[a]=[i]}return r}}])&&at(t.prototype,e),n&&at(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}());function lt(t){"@babel/helpers - typeof";return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach(function(e){dt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function dt(t,e,n){return(e=mt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mt(r.key),r)}}function yt(t,e,n){return e&&ht(t.prototype,e),n&&ht(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mt(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}function bt(t,e,n){return e=vt(e),function(t,e){if(e&&("object"==lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],vt(t).constructor):e.apply(t,n))}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}function wt(t,e){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var kt=function(t){function e(t){return pt(this,e),bt(this,e,[t])}return gt(e,r["Component"]),yt(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"timeLine-main-data-row",style:ft(ft({},f.values.dataViewPort.rows.style),{},{top:this.props.top,height:this.props.itemheight})},this.props.children)}}])}(),St=function(t){function e(t){var n;return pt(this,e),dt(n=bt(this,e,[t]),"onChildDrag",function(t){n.childDragging=t}),dt(n,"renderRows",function(){var t=[],e=ct.groupData(n.props.data,n.props.startRow,n.props.endRow+1);return Object.keys(e).forEach(function(r,i){var a=e[r];t.push(o.a.createElement(kt,{key:r,label:r,top:i*n.props.itemheight,left:20,itemheight:n.props.itemheight},a.map(function(t){var e=D.dateToPixel(t.start,n.props.nowposition,n.props.dayWidth),r=D.dateToPixel(t.end,n.props.nowposition,n.props.dayWidth)-e;return o.a.createElement(nt,{key:t.id,item:t,label:t.name,nowposition:n.props.nowposition,dayWidth:n.props.dayWidth,color:t.color,left:e,width:r,height:n.props.itemheight,onChildDrag:n.onChildDrag,isSelected:n.props.selectedItem==t,onSelectItem:n.props.onSelectItem,onStartCreateLink:n.props.onStartCreateLink,onFinishCreateLink:n.props.onFinishCreateLink,onTaskChanging:n.props.onTaskChanging,onUpdateTask:n.props.onUpdateTask}," ")})))}),t}),dt(n,"doMouseDown",function(t){0!==t.button||n.childDragging||n.props.onMouseDown(t)}),dt(n,"doMouseMove",function(t){n.props.onMouseMove(t,n.dataViewPortRef.current)}),dt(n,"doTouchStart",function(t){n.childDragging||n.props.onTouchStart(t)}),dt(n,"doTouchMove",function(t){n.props.onTouchMove(t,n.dataViewPortRef.current)}),n.childDragging=!1,n.dataViewPortRef=o.a.createRef(),n}return gt(e,r["Component"]),yt(e,[{key:"getContainerHeight",value:function(t){return t>0?t*this.props.itemheight:10}},{key:"componentDidMount",value:function(){this.dataViewPortRef.current.scrollLeft=0}},{key:"render",value:function(){this.dataViewPortRef.current&&(this.dataViewPortRef.current.scrollLeft=this.props.scrollLeft,this.dataViewPortRef.current.scrollTop=this.props.scrollTop);var t=this.getContainerHeight(this.props.data.length);return o.a.createElement("div",{ref:this.dataViewPortRef,id:"timeLinedataViewPort",className:"timeLine-main-data-viewPort",onMouseDown:this.doMouseDown,onMouseMove:this.doMouseMove,onMouseUp:this.props.onMouseUp,onMouseLeave:this.props.onMouseLeave,onTouchStart:this.doTouchStart,onTouchMove:this.doTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},o.a.createElement("div",{className:"timeLine-main-data-container",style:{height:t,width:O,maxWidth:O}},this.renderRows()))}}])}(),Ot=ot()({monitorWidth:!0,monitorHeight:!0})(St);function xt(t){"@babel/helpers - typeof";return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ct(r.key),r)}}function Pt(t,e,n){return e=Et(e),function(t,e){if(e&&("object"==xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Et(t).constructor):e.apply(t,n))}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t,e,n){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ct(t){var e=function(t,e){if("object"!=xt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xt(e)?e:e+""}var Mt=20,Dt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Lt(n=Pt(this,e,[t]),"calcNormCoordinates",function(){var t;return{cpt1:{x:t=n.props.start.x+(n.props.end.x-n.props.start.x)/2,y:n.props.start.y},cpt2:{x:t,y:n.props.end.y}}}),Lt(n,"calcSCoordinates",function(){var t={x:n.props.start.x+Mt,y:n.props.start.y},e=(n.props.end.y-n.props.start.y)/2,r={x:t.x,y:t.y+e},o={x:n.props.end.x-Mt,y:r.y};return{cpt1:t,cpt2:r,cpt3:o,cpt4:{x:o.x,y:o.y+e}}}),Lt(n,"getPath",function(){var t=null;return n.props.start.x>n.props.end.x?(t=n.calcSCoordinates(),"M".concat(n.props.start.x," ").concat(n.props.start.y,"  ").concat(t.cpt1.x," ").concat(t.cpt1.y," ").concat(t.cpt2.x," ").concat(t.cpt2.y," ").concat(t.cpt3.x," ").concat(t.cpt3.y," ").concat(t.cpt4.x," ").concat(t.cpt4.y," ").concat(n.props.end.x," ").concat(n.props.end.y)):(t=n.calcNormCoordinates(),"M".concat(n.props.start.x," ").concat(n.props.start.y,"  ").concat(t.cpt1.x," ").concat(t.cpt1.y," ").concat(t.cpt2.x," ").concat(t.cpt2.y," ").concat(n.props.end.x," ").concat(n.props.end.y))}),Lt(n,"onSelect",function(t){n.props.onSelectItem&&n.props.onSelectItem(n.props.item)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(e,r["Component"]),n=e,(i=[{key:"render",value:function(){var t=this.props.isSelected?f.values.links.selectedColor:f.values.links.color;return o.a.createElement("g",{className:"timeline-link"},o.a.createElement("path",{pointerEvents:"stroke",onMouseDown:this.onSelect,stroke:"white",d:this.getPath(),strokeLinejoin:"round",fill:"transparent",strokeWidth:"4",cursor:"pointer"}),o.a.createElement("path",{pointerEvents:"stroke",onMouseDown:this.onSelect,stroke:t,d:this.getPath(),strokeLinejoin:"round",fill:"transparent",strokeWidth:"1",cursor:"pointer",markerEnd:"url(#arrow)"}))}}])&&jt(n.prototype,i),a&&jt(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}();function Rt(t){"@babel/helpers - typeof";return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ut(r.key),r)}}function It(t,e,n){return e=zt(e),function(t,e){if(e&&("object"==Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],zt(t).constructor):e.apply(t,n))}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function At(t,e,n){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t){var e=function(t,e){if("object"!=Rt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rt(e)?e:e+""}var Wt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),At(n=It(this,e,[t]),"doMouseMove",function(t){n.init||(n.lastX=t.clientX,n.lastY=t.clientY,n.init=!0);var e=n.state.x+(t.clientX-n.lastX),r=n.state.y+(t.clientY-n.lastY);n.lastX=t.clientX,n.lastY=t.clientY,n.setState({x:e,y:r})}),At(n,"doMouseUp",function(t){n.props.onFinishCreateLink()}),n.state={x:n.props.start.x,y:n.props.start.y},n.init=!1,n.lastX=-1,n.lastY=-1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(e,r["Component"]),n=e,(i=[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp)}},{key:"render",value:function(){return o.a.createElement(Dt,{key:-1,start:{x:this.props.start.x,y:this.props.start.y},end:{x:this.state.x,y:this.state.y}})}}])&&_t(n.prototype,i),a&&_t(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}();function Ht(t){"@babel/helpers - typeof";return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t){return function(t){if(Array.isArray(t))return Vt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Vt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kt(r.key),r)}}function Yt(t,e,n){return e=qt(e),function(t,e){if(e&&("object"==Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],qt(t).constructor):e.apply(t,n))}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xt(t,e){return(Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t,e,n){return(e=Kt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kt(t){var e=function(t,e){if("object"!=Ht(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ht(e)?e:e+""}var $t=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Gt(n=Yt(this,e,[t]),"getItemPosition",function(t,e){return{x:D.dateToPixel(e,0,n.props.dayWidth),y:t*n.props.itemheight+n.props.itemheight/2}}),Gt(n,"renderCreateLink",function(){if(n.props.interactiveMode){var t=ct.getTask(n.props.taskToCreate.task.id),e=n.getItemPosition(t.index,t.item.end);return o.a.createElement(Wt,{start:e,onFinishCreateLink:n.props.onFinishCreateLink})}}),Gt(n,"renderChangingTaskLinks",function(){if(n.props.changingTask!=n.state.changingTask){n.state.changingTask=n.props.changingTask;var t=ct.getLinks(n.state.changingTask.item.id);if(!t)return;for(var e=null,r=null,i=null,a={},s={},c=0;c<t.length;c++)e=t[c],(r=ct.getTask(e.link.start))&&(i=ct.getTask(e.link.end))&&(a=n.getItemPosition(r.index,r.item.end),n.state.changingTask.item.id==e.link.start&&(a.x=n.state.changingTask.position.end),s=n.getItemPosition(i.index,i.item.start),n.state.changingTask.item.id==e.link.end&&(s.x=n.state.changingTask.position.start),n.cache[e.index]=o.a.createElement(Dt,{key:-c-1,item:e,start:{x:a.x,y:a.y},end:{x:s.x,y:s.y},isSelected:n.props.selectedItem==e,onSelectItem:n.props.onSelectItem}),n.cache=Bt(n.cache))}}),n.cache=[],n.state={links:[],data:[],selectedItem:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(e,r["Component"]),n=e,(i=[{key:"renderLink",value:function(t,e,n,r){var i=this.getItemPosition(t.index,t.item.end),a=this.getItemPosition(e.index,e.item.start);return o.a.createElement(Dt,{key:r,item:n,start:{x:i.x,y:i.y},end:{x:a.x,y:a.y},isSelected:this.props.selectedItem==n,onSelectItem:this.props.onSelectItem})}},{key:"renderLinks",value:function(){this.cache=[];var t,e={},n={};if(0!=this.state.data.length)for(var r=0;r<this.state.links.length;r++){var o=this.state.links[r];!o&&e[o.id]||((t=ct.getTask(o.start))&&(n=ct.getTask(o.end))?(this.cache.push(this.renderLink(t,n,o,r)),e[o.id]=""):this.cache.push(null))}}},{key:"refreshData",value:function(){this.props.links==this.state.links&&this.props.data==this.state.data&&this.props.dayWidth==this.state.dayWidth&&this.props.selectedItem==this.state.selectedItem||(this.state.selectedItem=this.props.selectedItem,this.state.dayWidth=this.props.dayWidth,this.state.links=this.props.links,this.state.data=this.props.data,this.state.links&&this.state.data&&this.renderLinks())}},{key:"render",value:function(){return this.refreshData(),this.renderChangingTaskLinks(),o.a.createElement("svg",{x:0,y:0,width:"100%",pointerEvents:"none",style:{position:"absolute",top:60,userSelect:"none",height:"100%"}},o.a.createElement("defs",null,o.a.createElement("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"9",markerHeight:"9",orient:"auto-start-reverse"},o.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z",strokeLinejoin:"round"}))),o.a.createElement("g",{transform:"matrix(1,0,0,1,".concat(-(this.props.scrollLeft-this.props.nowposition),",").concat(-this.props.scrollTop,")")},this.cache,this.renderCreateLink()))}}])&&Ft(n.prototype,i),a&&Ft(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}();function Jt(t){"@babel/helpers - typeof";return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,re(r.key),r)}}function Zt(t,e,n){return e=te(e),function(t,e){if(e&&("object"==Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],te(t).constructor):e.apply(t,n))}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t,e){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ne(t,e,n){return(e=re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t){var e=function(t,e){if("object"!=Jt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jt(e)?e:e+""}var oe=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ne(n=Zt(this,e,[t]),"onFocus",function(){n.setState({editing:!0})}),ne(n,"onBlur",function(){n.finishEditing()}),ne(n,"handleKey",function(t){13===(t.keyCode||t.which)&&n.finishEditing()}),ne(n,"finishEditing",function(){n.isFocus=!1,n.setState({editing:!1}),n.props.onChange&&n.props.onChange(n.state.value)}),ne(n,"handleChange",function(t){n.setState({value:t.target.value})}),ne(n,"renderDiv",function(){return o.a.createElement("div",{tabIndex:n.props.index,onClick:n.onFocus,onFocus:n.onFocus,style:{width:"100%"}}," ",n.state.value)}),ne(n,"renderEditor",function(){return o.a.createElement("input",{ref:n.textInputRef,onBlur:n.onBlur,style:{width:"100%",outlineColor:"black",outlineStyle:"oinset"},type:"text",name:"name",value:n.state.value,onKeyUp:n.handleKey,onChange:n.handleChange})}),n.isFocus=!1,n.state={editing:!1,value:n.props.value},n.textInputRef=o.a.createRef(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}(e,r["Component"]),n=e,(i=[{key:"componentDidUpdate",value:function(t,e){this.textInputRef.current&&!this.isFocus&&(this.textInputRef.current.focus(),this.isFocus=!0)}},{key:"shouldComponentUpdate",value:function(t,e){return t.value!=this.props.value&&(this.state.value=t.value),!0}},{key:"render",value:function(){return this.state.editing?this.renderEditor():this.renderDiv()}}])&&Qt(n.prototype,i),a&&Qt(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}();function ie(t){"@babel/helpers - typeof";return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach(function(e){ce(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ce(t,e,n){return(e=de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,de(r.key),r)}}function fe(t,e,n){return e&&ue(t.prototype,e),n&&ue(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function de(t){var e=function(t,e){if("object"!=ie(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ie(e)?e:e+""}function pe(t,e,n){return e=he(e),function(t,e){if(e&&("object"==ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],he(t).constructor):e.apply(t,n))}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}function me(t,e){return(me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var be=function(t){function e(t){var n;return le(this,e),ce(n=pe(this,e,[t]),"onChange",function(t){n.props.onUpdateTask&&n.props.onUpdateTask(n.props.item,{name:t})}),n.taskViewPortRef=o.a.createRef(),n}return ye(e,r["Component"]),fe(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"timeLine-side-task-row",style:se(se({},f.values.taskList.task.style),{},{top:this.props.top,height:this.props.itemheight}),onClick:function(e){return t.props.onSelectItem(t.props.item)}},this.props.nonEditable?o.a.createElement("div",{tabIndex:this.props.index,style:{width:"100%"}},this.props.label):o.a.createElement(oe,{value:this.props.label,index:this.props.index,onChange:this.onChange}))}}])}(),ve=function(t){function e(t){var n;return le(this,e),ce(n=pe(this,e,[t]),"doScroll",function(){n.props.onScroll(n.taskViewPortRef.current.scrollTop)}),n}return ye(e,r["Component"]),fe(e,[{key:"getContainerStyle",value:function(t){return{height:t>0?t*this.props.itemheight:10}}},{key:"renderTaskRow",value:function(t){var e=this,n=[],r=ct.groupData(t,this.props.startRow,this.props.endRow+1);return Object.keys(r).forEach(function(t,i){r[t].forEach(function(r){n.push(o.a.createElement(be,{key:i+r.id,index:r.name+i,item:r,label:t,top:i*e.props.itemheight,itemheight:e.props.itemheight,isSelected:e.props.selectedItem==r,onUpdateTask:e.props.onUpdateTask,onSelectItem:e.props.onSelectItem,nonEditable:e.props.nonEditable}))})}),n}},{key:"render",value:function(){var t=this.props.data?this.props.data:[];return this.containerStyle=this.getContainerStyle(t.length),o.a.createElement("div",{className:"timeLine-side"},o.a.createElement("div",{className:"timeLine-side-title",style:f.values.taskList.title.style},o.a.createElement("div",null,f.values.taskList.title.label)),o.a.createElement("div",{ref:this.taskViewPortRef,className:"timeLine-side-task-viewPort",onScroll:this.doScroll},o.a.createElement("div",{className:"timeLine-side-task-container",style:this.containerStyle},this.renderTaskRow(t))))}}])}();function ge(t){"@babel/helpers - typeof";return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Se(r.key),r)}}function ke(t,e,n){return(e=Se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Se(t){var e=function(t,e){if("object"!=ge(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ge(e)?e:e+""}var Oe=function(t,e,n){return e&&we(t.prototype,e),n&&we(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,"initialise",function(t,n,r,o){e.nowposition=r,e.daywidth=o,e.setLimits(t,n,r,o),e.loadDataHorizon()}),ke(this,"setStartEnd",function(t,n,r,o){e.nowposition=r,e.daywidth=o,e.needData(t,n)&&(e.setLimits(t,n),e.loadDataHorizon())}),ke(this,"needData",function(t,n){return t<e.lower_data_limit||n>e.upper_data_limit}),ke(this,"setLimits",function(t,n){e.lower_limit=t-1e3,e.lower_data_limit=t-750,e.upper_limit=n+1e3,e.upper_data_limit=n+750}),ke(this,"loadDataHorizon",function(){var t=D.pixelToDate(e.lower_limit,e.nowposition,e.daywidth),n=D.pixelToDate(e.upper_limit,e.nowposition,e.daywidth);e.onHorizonChange(t,n)}),this.lower_limit=0,this.upper_limit=0,this._dataToRender=[]});n(26);function xe(t){"@babel/helpers - typeof";return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Me(r.key),r)}}function Ee(t,e,n){return e=Te(e),function(t,e){if(e&&("object"==xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Te(t).constructor):e.apply(t,n))}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ce(t,e,n){return(e=Me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Me(t){var e=function(t,e){if("object"!=xe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xe(e)?e:e+""}var De=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(n=Ee(this,e,[t]),"onSize",function(t){n.calculateVerticalScrollVariables(t),n.initialise||(n.dc.initialise(n.state.scrollLeft+n.state.nowposition,n.state.scrollLeft+n.state.nowposition+t.width,n.state.nowposition,n.state.dayWidth),n.initialise=!0),n.setStartEnd();var e=Math.ceil(t.height/n.props.itemheight),r=n.calcNumVisibleDays(t),o=n.calculateStartEndRows(e,n.props.data,n.state.scrollTop);n.setState({numVisibleRows:e,numVisibleDays:r,startRow:o.start,endRow:o.end,size:t})}),Ce(n,"verticalChange",function(t){if(t!=n.state.scrollTop){var e=n.calculateStartEndRows(n.state.numVisibleRows,n.props.data,t);e.start!==n.state.start&&n.setState({scrollTop:t,startRow:e.start,endRow:e.end})}}),Ce(n,"calculateStartEndRows",function(t,e,r){var o=Math.trunc(r/n.props.itemheight);return{start:o,end:o+t>=e.length?e.length:o+t}}),Ce(n,"setStartEnd",function(){n.dc.setStartEnd(n.state.scrollLeft,n.state.scrollLeft+n.state.size.width,n.state.nowposition,n.state.dayWidth)}),Ce(n,"horizontalChange",function(t){var e=n.state.nowposition,r=-1,o=n.state.headerData,i=n.state.startRow,a=n.state.endRow;t>n.pxToScroll?(e=n.state.nowposition-n.pxToScroll,r=0):t<=0?(e=n.state.nowposition+n.pxToScroll,r=n.pxToScroll):r=t;var s=Math.trunc((t-n.state.nowposition)/n.state.dayWidth);a=(i=Math.trunc(n.state.scrollTop/n.props.itemheight))+n.state.numVisibleRows>=n.props.data.length?n.props.data.length-1:i+n.state.numVisibleRows,n.setStartEnd(),n.setState({currentday:s,nowposition:e,headerData:o,scrollLeft:r,startRow:i,endRow:a})}),Ce(n,"calculateVerticalScrollVariables",function(t){n.pxToScroll=(1-t.width/O)*O-1}),Ce(n,"onHorizonChange",function(t,e){n.props.onHorizonChange&&n.props.onHorizonChange(t,e)}),Ce(n,"doMouseDown",function(t){n.dragging=!0,n.draggingPosition=t.clientX}),Ce(n,"doMouseMove",function(t){if(n.dragging){var e=n.draggingPosition-t.clientX;0!==e&&(n.draggingPosition=t.clientX,n.horizontalChange(n.state.scrollLeft+e))}}),Ce(n,"doMouseUp",function(t){n.dragging=!1}),Ce(n,"doMouseLeave",function(t){n.dragging=!1}),Ce(n,"doTouchStart",function(t){n.dragging=!0,n.draggingPosition=t.touches[0].clientX}),Ce(n,"doTouchEnd",function(t){n.dragging=!1}),Ce(n,"doTouchMove",function(t){if(n.dragging){var e=n.draggingPosition-t.touches[0].clientX;0!==e&&(n.draggingPosition=t.touches[0].clientX,n.horizontalChange(n.state.scrollLeft+e))}}),Ce(n,"doTouchCancel",function(t){n.dragging=!1}),Ce(n,"doMouseLeave",function(t){n.dragging=!1}),Ce(n,"onTaskListSizing",function(t){n.setState(function(e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?je(Object(n),!0).forEach(function(e){Ce(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e);return n.sideStyle={width:n.sideStyle.width-t},n})}),Ce(n,"onSelectItem",function(t){n.props.onSelectItem&&t!=n.props.selectedItem&&n.props.onSelectItem(t)}),Ce(n,"onStartCreateLink",function(t,e){n.setState({interactiveMode:!0,taskToCreate:{task:t,position:e}})}),Ce(n,"onFinishCreateLink",function(t,e){n.props.onCreateLink&&t&&n.state.taskToCreate&&n.state.taskToCreate.task.id!=t.id&&n.props.onCreateLink({start:n.state.taskToCreate,end:{task:t,position:e}}),n.setState({interactiveMode:!1,taskToCreate:null})}),Ce(n,"onTaskChanging",function(t){n.setState({changingTask:t})}),Ce(n,"calcNumVisibleDays",function(t){return Math.ceil(t.width/n.state.dayWidth)+S}),Ce(n,"checkNeeeData",function(){if(n.props.data!=n.state.data){n.state.data=n.props.data;var t=n.calculateStartEndRows(n.state.numVisibleRows,n.props.data,n.state.scrollTop);n.state.startRow=t.start,n.state.endRow=t.end,ct.registerData(n.state.data)}n.props.links!=n.state.links&&(n.state.links=n.props.links,ct.registerLinks(n.props.links))}),n.dragging=!1,n.draggingPosition=0,n.dc=new Oe,n.dc.onHorizonChange=n.onHorizonChange,n.initialise=!1,n.pxToScroll=1900;var r=n.getDayWidth(n.props.mode);return f.load(n.props.config),n.state={currentday:0,nowposition:0,startRow:0,endRow:10,sideStyle:{width:200},scrollLeft:0,scrollTop:0,numVisibleRows:40,numVisibleDays:60,dayWidth:r,interactiveMode:!1,taskToCreate:null,links:[],mode:n.props.mode?n.props.mode:P,size:{width:1,height:1},changingTask:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(e,r["Component"]),n=e,(i=[{key:"getDayWidth",value:function(t){switch(t){case x:return 1440;case j:return 480;case P:return 24;case E:return 4;default:return 24}}},{key:"checkMode",value:function(){if(this.props.mode!=this.state.mode&&this.props.mode){this.state.mode=this.props.mode;var t=this.getDayWidth(this.state.mode);this.state.dayWidth=t,this.state.numVisibleDays=this.calcNumVisibleDays(this.state.size);var e=Math.ceil(-this.state.currentday*this.state.dayWidth/this.pxToScroll);this.state.nowposition=e*this.pxToScroll;var n=(this.state.currentday*this.state.dayWidth+this.state.nowposition)%this.pxToScroll;this.state.scrollLeft=n}}},{key:"render",value:function(){return this.checkMode(),this.checkNeeeData(),this.state.size,o.a.createElement("div",{className:"timeLine"},o.a.createElement("div",{className:"timeLine-side-main",style:this.state.sideStyle},o.a.createElement(ve,{ref:this.taskViewPortRef,itemheight:this.props.itemheight,startRow:this.state.startRow,endRow:this.state.endRow,data:this.props.data,selectedItem:this.props.selectedItem,onSelectItem:this.onSelectItem,onUpdateTask:this.props.onUpdateTask,onScroll:this.verticalChange,nonEditable:this.props.nonEditableName}),o.a.createElement(v,{onTaskListSizing:this.onTaskListSizing})),o.a.createElement("div",{className:"timeLine-main"},o.a.createElement(q,{headerData:this.state.headerData,numVisibleDays:this.state.numVisibleDays,currentday:this.state.currentday,nowposition:this.state.nowposition,dayWidth:this.state.dayWidth,mode:this.state.mode,scrollLeft:this.state.scrollLeft}),o.a.createElement(Ot,{ref:this.DataViewPortRef,scrollLeft:this.state.scrollLeft,scrollTop:this.state.scrollTop,itemheight:this.props.itemheight,nowposition:this.state.nowposition,startRow:this.state.startRow,endRow:this.state.endRow,data:this.props.data,selectedItem:this.props.selectedItem,dayWidth:this.state.dayWidth,onScroll:this.scrollData,onMouseDown:this.doMouseDown,onMouseMove:this.doMouseMove,onMouseUp:this.doMouseUp,onMouseLeave:this.doMouseLeave,onTouchStart:this.doTouchStart,onTouchMove:this.doTouchMove,onTouchEnd:this.doTouchEnd,onTouchCancel:this.doTouchCancel,onSelectItem:this.onSelectItem,onUpdateTask:this.props.onUpdateTask,onTaskChanging:this.onTaskChanging,onStartCreateLink:this.onStartCreateLink,onFinishCreateLink:this.onFinishCreateLink,boundaries:{lower:this.state.scrollLeft,upper:this.state.scrollLeft+this.state.size.width},onSize:this.onSize}),o.a.createElement($t,{scrollLeft:this.state.scrollLeft,scrollTop:this.state.scrollTop,startRow:this.state.startRow,endRow:this.state.endRow,data:this.props.data,nowposition:this.state.nowposition,dayWidth:this.state.dayWidth,interactiveMode:this.state.interactiveMode,taskToCreate:this.state.taskToCreate,onFinishCreateLink:this.onFinishCreateLink,changingTask:this.state.changingTask,selectedItem:this.props.selectedItem,onSelectItem:this.onSelectItem,itemheight:this.props.itemheight,links:this.props.links})))}}])&&Pe(n.prototype,i),a&&Pe(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}();De.propTypes={itemheight:a.a.number.isRequired,dayWidth:a.a.number.isRequired,nonEditableName:a.a.bool},De.defaultProps={itemheight:20,dayWidth:24,nonEditableName:!1};e.default=De}])});